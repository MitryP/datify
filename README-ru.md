Документация на русском
# Datify
Этот модуль позволяет извлекать даты из пользовательского ввода.
Обработка строк осуществляется через класс `Datify`.
## Поддерживаемые языки: 
- [x] English  -  [English Readme](README.md) 
- [x] Русский
- [x] Украинский

---
## Установка
Просто выполните `pip install datify` из командной строки (pip должен быть установлен).

---

## Класс:
` Datify(user_input, year, month, date) ` : принимает `user_input: str` при создании. Также может принимать именованые аргументы `year`, `month` и `day` вместе с `user_input` или без него. Если ни один параметр не задан, поднимает ValueError. **См. секцию *Форматы*, чтобы ознакомиться со стандартными форматами Datify.**
### Методы класса:
  #### Статические:
  1. `findDate(string)` : Принимает str. Возвращает подстроку с датой в формате General Date Format если она содержится в заданной строке. Иначе возвращает None.
  2. `isYear(year)` : Принимает str или int. Возвращает True если заданый параметр соответствует формату Digit Year Format.
  3. `isDigitMonth(month)` : Принимает str или int. Возвращает True если заданый параметр соответствует формату Digit Month Format.
  4. `isAlphaMonth(string)` : Принимает str. Возвращает True если заданная строка содержится в словаре названий месяцев. *Для языков, в которых есть падежи (русский, украинский) в основном достаточно иметь в словаре только именительную форму слова - смотри функцию `_isSameWord`.*
  5. `getAlphaMonth(string)` :  Принимает str. Возвращает int - номер месяца в заданой строке согласно словарю. Если строка не содержит известное имя месяца, врозвращает None.
  6. `isDay(day)` : Принимает str или int. Возвращает True если заданый параметр соответствует формату Day Format.
  7. `isDate(date)` : Принимает str или int. Возвращает True  если заданый параметр соответствует формату General Date Format (См. секцию *Форматы*).
  8. `isDatePart(string)` : Принимает str. Возвращает True  если заданый параметр содержит хотя бы одну часть даты - день, месяц (номер или название) или год.
  9. `_getWordsList(string)` : Возвращает список слов, разделённый найденым разделителем из `config['SEPARATORS']` (См. секцию *Настройка*). Если строка не содержит известных разделителей, возвращает None.

  #### Методы экземпляра:
  1. `date()` : Возвращает datetime object из параметров экземпляра Datify. Если были получены не все нужные параметры (`year`, `month` и `day`), daytime поднимает TypeError.
  2. `tuple()` : Возвращает кортеж из всех известных параметров. *Если месяц или день не заданы, нет никакого способа определить, что именно находится в кортеже после того, как он был получен!*
  3. `date_or_tuple()` : Возвращает datetime object, если известны все нужные параметры. Иначе возвращает кортеж из известных параметров.
  4. `setYear(year)` : Принимает str или int. Извлекает год из полученной переменной и устанавливает поле `year` вызванного экземпляра Datify. Если полученный параметр не соответствует формату Year Format, поднимает ValueError. *Если год получен в сокращенном формате **YY**, это считается как **20YY**.*
  5. `setMonth(month)` : Принимает str или int. Извлекает месяц из полученной переменной и устанавливает поле `month` вызванного экземпляра Datify. Если полученный параметр не соответствует формату Digit/Alpha Month Format, поднимает ValueError.
  6. `setDay(day)` : Принимает str или int. Извлекает день из полученной переменной и устанавливает поле `day` вызванного экземпляра Datify. Если полученный параметр не соответствует формату Day Format, поднимает ValueError.

## Форматы:
> **Обратите внимание, что в этом модуле день проверяется первым, а месяц - после него. `06.07.2021` будет распознано как `6 июля 2021 года`!**
- Формат General Date:
  `'[12][01]\d\d[01]\d[0123]\d$'` - `ГГГГММДД` - напр. `20210706` - 6 июля 2021
- Форматы дня:
  0 < день <= 31
  - Для случаев, когда строка содержит только цифры: `'[0123]?\d$'` - `Д?Д` - напр. `13`, `05`, `6` и т.д.
  - Для случаев, когда день задан буквенно-цифровой строкой: `'[0123]?\d\D+$'` - напр. `1st`, `2nd`, `25th`, `3-е` и т.д.
- Форматы месяца:
  0 < месяц <= 12
  - Для случаев, когда строка содержит только цифры: `'[01]?\d$'` - `M?M` - напр. `06`, `7` и т.д.
  - Для случаев, когда день задан буквенно-цифровой строкой: сравнивает строку со словарём и пытается найти похожее название месяца.
- Формат Year Format:
  `'([012]\d\d\d$)|(\d\d$)'` - `ГГГГ` or `ГГ` - напр. `2021` или `21`.
  > Обратите внимание, что если год задан в виде `ГГ`, это считается как `20ГГ`.

## Настройка:
После импорта модуля есть возможность настроить список разделителей и изменить все стандартные форматы, обращаясь к ним через `Datify.config['KEY']`.
№. Имя : КЛЮЧ -- описание
1. Разделители : `'SPLITTERS'` -- множество разделителей для `Datify._getWordsList`. Содержит ` `, `.`, `-` и `/` по умолчанию.
2. Форматы (См. секцию *Форматы*) :
  - Digit Day : `'FORMAT_DAY_DIGIT'`
  - Alpha-numeric Day : `'FORMAT_DAY_ALNUM'`
  - Digit Month : `'FORMAT_MONTH_DIGIT'`
  - Digit Year : `'FORMAT_YEAR_DIGIT'`
  - General Date : `'FORMAT_DATE'`
 
Например:
```python
Datify('17_06_2021')  # ValueError
Datify.config['SPLITTERS'].add('_')  # Добавляем нужный разделитель в конфиг
Datify('17_06_2021')  # <Datify object (17, 6, 2021)>
```

---

## Примеры:
Я буду каждый раз использовать разные форматы даты, чтобы показать, что Datify может работать с каждым из них. Начнём!
```python
from datify import Datify  # Импортируем главный класс. Все последуюющие действия будут с ним.
```
1. Извлечение даты из строки с помощью Datify
```python
user_input = '06.07.2021'  # Имитируем пользовательский ввод. День идет первым!
val = Datify(user_input)
print(val)  # Output: <Datify object (6, 7, 2021)>
```
Таким образом можно обработать любую строку.

2. Получение отдельных частей даты из Datify
```python
user_input = '06/07'
val = Datify(user_input)

date_day = val.day  # 6
date_month = val.month  # 7
date_year = val.year  # None
```

3. Получение даты в экземпляре **datetime**
```python
user_input = '06-07-21'
date = Datify(user_input).date()  # 2021-07-06 00:00:00
```
Если дата не будет получена полностью (год, месяц и день), datetime поднимет TypeError:
```python
user_input = '06/07'
date = Datify(user_input).date()  # TypeError: an integer is required (got type NoneType)
```
Лучше использовать другие способы, если есть шанс получить неполную дату.

4. Получение кортежа из всех значений:
Порядок значений:  день, месяц, год
```python
user_input = '6th of July 2021'
Datify(user_input).tuple()  # (6, 7, 2021)

user_input = '6th of July'
Datify(user_input).tuple()
(6, 7, None)
```

5. Получение номера месяца из его названия без создания экземпляра Datify
```python
Datify.getAlphaMonth('february')  # 2
```
7. Разнообразные проверки для строк
```python
# Любая часть даты
Datify.isDatePart('6')  # True (может быть днём или месяцем)
Datify.isDatePart('31')  # True
Datify.isDatePart('june')  # True
Datify.isDatePart('jan')  # True
Datify.isDatePart('33')  # True (может быть годом в виде `ГГ`)
Datify.isDatePart('333')  # False
Datify.isDatePart('3131')  # False (не соответствует формату года (от `1000` до `2199`))

# Дата в формате General Date
Datify.isDate('20210607')  # True

# Определённые части даты

# Год
Datify.isYear('2021')  # True
Datify.isYear('221')  # False

# Месяц
Datify.isDigitMonth('11')  # True (0 < str <= 12)
Datify.isAlphaMonth('June')  # True

# День
Datify.isDay('13')  # True (0 < str <= 31)
```

8. Поиск даты в формате General Date в любой строке
```python
user_input = 'created "20200120"'
Datify.findDate(user_input)  # '20200120'
```

9. Изменение параметров существующего экземпляра Datify
```python
date = Datify('6th of July, 2021')  # <Datify object (6, 7, 2021)>
date.setYear(2018)
print(date.date())  # 2018-07-06 00:00:00
```
Также можно вручную переопределить параметры обьекта Datify при его создании:
```python
Datify('6th of July, 2021', year=2018, month=3)  # <Datify object (6, 3, 2018)>
```
